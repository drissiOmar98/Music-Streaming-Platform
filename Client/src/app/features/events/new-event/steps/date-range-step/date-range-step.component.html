<div class="date-range-container">
  <div class="glass-card">
    <div class="header">
      <h1 class="title">When's your event happening?</h1>
      <h2 class="subtitle">Set the start and end dates for your event</h2>
    </div>

    <div class="date-selector">
      <div class="date-column">
        <div class="date-header">
          <i class="fas fa-calendar-plus icon"></i>
          <h3>Start Date & Time</h3>
        </div>
        <div class="datetime-picker">
          <p-calendar [(ngModel)]="dateRange().startDateTime"
                      [showTime]="true"
                      [hourFormat]="'24'"
                      [showIcon]="true"
                      [minDate]="minDate"
                      [maxDate]="maxDate"
                      [panelStyleClass]="'spotify-calendar'"
                      inputId="startDate"
                      (onSelect)="onDateChange('start', $event)">
          </p-calendar>
          <div class="time-inputs">
            <div class="time-input">
              <label for="startHours">Hours</label>
              <p-inputNumber [(ngModel)]="startTime().hours"
                             [min]="0"
                             [max]="23"
                             [showButtons]="true"
                             inputId="startHours"
                             (ngModelChange)="onTimeChange('start', 'hours', $event)">
              </p-inputNumber>
            </div>
            <div class="time-separator">:</div>
            <div class="time-input">
              <label for="startMinutes">Minutes</label>
              <p-inputNumber [(ngModel)]="startTime().minutes"
                             [min]="0"
                             [max]="59"
                             [showButtons]="true"
                             inputId="startMinutes"
                             (ngModelChange)="onTimeChange('start', 'minutes', $event)">
              </p-inputNumber>
            </div>
          </div>
        </div>
      </div>

      <div class="date-separator">
        <div class="line"></div>
        <i class="fas fa-arrow-right"></i>
        <div class="line"></div>
      </div>

      <div class="date-column">
        <div class="date-header">
          <i class="fas fa-calendar-minus icon"></i>
          <h3>End Date & Time</h3>
        </div>
        <div class="datetime-picker">
          <p-calendar [(ngModel)]="dateRange().endDateTime"
                      [showTime]="true"
                      [hourFormat]="'24'"
                      [showIcon]="true"
                      [minDate]="minDate"
                      [panelStyleClass]="'spotify-calendar'"
                      inputId="endDate"
                      (onSelect)="onDateChange('end', $event)">
          </p-calendar>
          <div class="time-inputs">
            <div class="time-input">
              <label for="endHours">Hours</label>
              <p-inputNumber [(ngModel)]="endTime().hours"
                             [min]="0"
                             [max]="23"
                             [showButtons]="true"
                             inputId="endHours"
                             (ngModelChange)="onTimeChange('end', 'hours', $event)">
              </p-inputNumber>
            </div>
            <div class="time-separator">:</div>
            <div class="time-input">
              <label for="endMinutes">Minutes</label>
              <p-inputNumber [(ngModel)]="endTime().minutes"
                             [min]="0"
                             [max]="59"
                             [showButtons]="true"
                             inputId="endMinutes"
                             (ngModelChange)="onTimeChange('end', 'minutes', $event)">
              </p-inputNumber>
            </div>
          </div>
        </div>
      </div>
    </div>

    @if (duration()){
      <div class="duration-display">
        <div class="duration-card">
          <i class="fas fa-clock duration-icon"></i>
          <div class="duration-text">
            <span class="label">Total Duration:</span>
            <span class="value">{{duration()}}</span>
          </div>
        </div>
      </div>
    }

  </div>
</div>
